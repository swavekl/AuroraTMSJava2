<div class="mat-title" style="padding-left: 8px; width: 100%;">Tournament Publishing: {{ tournamentProcessingRequest?.tournamentName }}</div>
<mat-toolbar fxLayout="row" fxLayoutGap="10">
  <button type="button" mat-raised-button (click)="generateAllReports()" [disabled]="generatingReports">
    <mat-icon matListIcon>note_add</mat-icon>
    Generate Reports
  </button>
</mat-toolbar>
<div *ngIf="tournamentProcessingRequest != null">
  <ng-container
    *ngIf="tournamentProcessingRequest.details != null && tournamentProcessingRequest.details.length > 0"></ng-container>
  <mat-card class="detail" *ngFor="let detail of tournamentProcessingRequest.details">
    <mat-card-subtitle>Status: {{detail.status }}</mat-card-subtitle>
    <mat-card-subtitle *ngIf="detail.createdOn != null">Generated on: {{detail.createdOn | date: 'MMM-dd-yyyy hh:mm:ss aaa' }}</mat-card-subtitle>
    <mat-card-subtitle *ngIf="detail.createdOn == null">Generating...</mat-card-subtitle>
    <mat-card-content>
      <table>
        <tr>
          <td>Tournament Report</td>
          <td>
            <a *ngIf="detail.pathTournamentReport" [href]="detail.pathTournamentReport">Download</a>
          </td>
        </tr>
        <tr>
          <td>USATT Applications</td>
          <td>
            <a *ngIf="detail.pathApplications" [href]="detail.pathApplications">Download</a>
          </td>
        </tr>
        <tr>
          <td>Player List</td>
          <td><a *ngIf="detail.pathPlayerList" [href]="detail.pathPlayerList">Download</a></td>
        </tr>
        <tr>
          <td>Match Results Report</td>
          <td><a *ngIf="detail.pathMatchResults" [href]="detail.pathMatchResults">Download</a></td>
        </tr>
        <tr>
          <td>Membership Report</td>
          <td><a *ngIf="detail.pathMembershipList" [href]="detail.pathMembershipList">Download</a></td>
        </tr>
      </table>
    </mat-card-content>
    <mat-card-actions style="padding: 10px" fxLayout="row" fxLayoutGap="10px">
      <button mat-raised-button (click)="onSubmitRequest(detail.id)"
              [disabled]="(detail?.status !== 'New')">Submit
      </button>
      <button mat-raised-button (click)="onPay(detail.id)"
              [disabled]="(detail?.status !== 'Submitted')">Pay
      </button>
    </mat-card-actions>
  </mat-card>
</div>
